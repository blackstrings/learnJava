<html>
<head>
	<title></title>
	<script data-main="js/mainWiki" src="js/lib/require.js"></script>
	<script>
		//if you call it explicitly like this, you have to call the common configs again so your file path will stay relative
		require(['./commonWiki'], function (common) {
			require(["jquery", "app/wikiUtils"], function($, utils){
				$(function() {
					utils.setMainWebTitle("Maya");
				});
			});
		});
	</script>
</head>

<body>

<div id="contents">
	
	<section>
		<h1>Maya</h1>
		<p>3D software</p>
		
		<section>
			<h1>UI Changes</h1>
			<section class="box">
				<h2>Docking Windows</h2>
				<p>
				Click drag a window to move and arrage. If you pop out a window, double click the tab to redock the window.
				The channel box, attribute editor(Ctrl+A) now have icons on the top right screen to show them.
				</p>
			</section>
		</section>

		<section>
			<h1>Nucleus</h1>
			<section class="box">
				<h2>Understand Basic</h2>
				<p>
				You usually have one nucleus, but you can have multiple. One nucleus will be linked to multple objects in the scene using dynamics, such as a flag,
				 cloth, etc. Nucleus controls all the basic gravity, window, turbulence etc for all objects in the scene.
				</p>
				<p>
				Nucleus has it's own ground plane if you wish to use it, just turn it on in this attribute editor.
				</p>
			</section>
			<section class="box">
				<h2>Wind</h2>
				<p>
				Just increase the wind speed and direction to start affecting nucleus objects.
				</p>
				<img src="images/mayaNucleus2.png" class="fit popup"/>
			</section>
			<section class="box">
				<h2>Interactive Playback</h2>
				<p>
				Allows you to adjust wind speed stuff in real time while playing. Make sure to have enough time in timeline. Sovler > interactive playback.
				</p>
				<img src="images/mayaNucleus2.png" class="fit popup"/>
			</section>
			<section class="box">
				<h2>Fine Turning Solver</h2>
				<p>
				Nucleus node > solver attribute > sbutsteps or max collision iterations increase if you have problems with say a flag folder in the wind.
				You'll have to fine tune for each scene. Downside is that playback will become slower. When it becomes too slow, make a playblast video instead to see the animation.
				playblast will be common.
				</p>
				<img src="images/mayaNucleus3.png" class="fit popup"/>
			</section>

		</section>

		<section>
			<h1>nCloth</h1>
			<section class="box">
				<h2>Understand Scale</h2>
				<p>Maya simulations assumes you build your object as 1/100 scale. not 1:1 scale as the size may be too big to build a city.
				If you do build it at 1:1 scale (only good for small objects), you'll have to up the scale attribute in nucleus to simulate the correct gravity.
				Select Nucleus obj in scene > scale attributes > change 1.0 to .01</p>
				<img src="images/mayaNucleus1.png" class="fit popup"/>

				<p>
				Or you can change the gravity(not recommended), move decimal two places to the right to get a bigger gravity.
				</p>

				<p>
				Start scene by changing grid size > Display > Grid > up the grid scale so it's bigger to model in.
				</p>
				<img src="images/mayaGrid1.png" class="fit popup"/>
			</section>
			<section class="box">
				<h2>Create nCloth</h2>
				<p>
				nCloth only works with polygons. Give cloth square polygons subdivision as much as possible. Freeze transform plane after cloth creation. Scale should b 1,1,1. 
				create a copy before turning plane into nCloth. Once you nCloth an obj, it's hard to revert it back so make copy of it. select a plane > make it ncloth.
				</p>
				<p>
				Change nucleus scale size if needed depending if you built obj 1:1 ratio or not.
				When you play simulation, if your object is moving too slow, then the object is too big.
				</p>
				<p>
				Change time setting to player every everyframe (if there's issuet try 24 but not recommended). Which ever one that will solve when you hit play.
				It should be play every frame, but if every frame is not working, reset your entire maya preferences.

				Set your timeline to 100. Click play.
				</p>
			</section>
			<section class="box">
				<h2>Ncloth Presets</h2>
				<p>Maya ships with a lot of presets for you to simulate different cloths. Use the presets on the nClothShape node and click hold on presets > replace.
				Start with presets, then tweak to your liking.
				</p>
				<img src="images/mayaNcloth1.png" class="fit popup"/>
				<p>
				Best preset for table cloth is burlap, then tweak the passive object's friction to 1.0. ClothShape node friction to 4 and stickiness to 1.0 or higher.
				</p>
			</section>
			<section class="box">
				<h2>Constraints</h2>
				<p>Make object nCloth > select vertices > nConstraints > trannsform > apply. A locator will be created for you. Play simulation.
				When selecting multiple vertex, after creating constraint, you may want to move the constarint locator to another corner or place where the snap should be most solid at.
				</p>
				<p>
				To add more vertext to a pre-existing constraint. Select constraint > shft select cloth > vertex > select more vertex > nConstraints > add member
				</p>
				<p>
				Drop off in constaints helps smooth the strength of constraints at the locator. Modify these values under the constaintNode
				</p>
				<img src="images/mayaNconstraint1.png" class="fit popup"/>
				<p>To constraint ncloth to n√ßloth, you want to select vertices on both nCloth objects, and select component to component. You won't get a locator for this type of constraint</p>
			</section>

			<section class="box">
				<h2>Bake Simulation no Cache</h2>
				<p>Baking simulation xyz rotation, scale, and translation.
				Edit > set key > bake simulation. select the channels you want to key.
				</p>
			</section>

			<section class="box">
				<h2>Bake Simulation with cache</h2>
				<p>For cloth that deform dynamically, you want to cache it instead of bake. 
				Set your time line to how far you want to cache. then Cache. Once cache, to change simulation like wind speed, you must delete the cache.
				</p>
				<p>Click cloth object, nCache > create cache.
				Caching will start. After cache, you can scroll the timeline at will and get same result. Then you can proceed to render.
				</p>
			</section>

			<section class="box">
				<h2>Cloth intersection fix</h2>
				<p>Make sure the cloth thickness is high, under the clothShape node.
				</p>
				<img src="images/mayaNcloth2.png" class="fit popup"/>
				<p>Turn on collision thickness envelope display view to see better of the thickness</p>
				<img src="images/mayaNcloth3.png" class="fit popup"/>
			</section>

			<section class="box">
				<h2>Render Prep</h2>
				<p>The cloth can be smoothed a couple of ways. Method 1 and cheap way is pressing 3 then use mental ray to render. the 3 smooth key will not work
				for other renders other than mental ray. CACHE the simulation before you render it!!!</p>
				<p>
				For old school method and to use software or hardward, you have to use the mesh > smooth under polygons. Select cloth > apply mesh smooth > then
				under the smooth node on the mesh > Make sure to turn off keep border to have smoother edges.
				</p>
				<img src="images/mayaNcloth5.png" class="fit popup"/>
			</section>
			<section class="box">
				<h2>set Initial State</h2>
				<p>Instead of starting from a square shape cloth to solve, you can simulate and start from a different cloth shape after it has been deform.
				Select cloth > nSolver > set from current. Rewind timeline and the shape should start from that initial state. If you want another state, go to that timeline,
				and set from current again.
				</p>
				<p>To clear initial state and go back > nSolver > clear inital state</p>
			</section>
			<section class="box">
				<h2>Multiple NCloth</h2>
				<p>For optimization, disable ncloth that are not needed when simulating other ncloths. Select ncloth object > uncheck enable in the nClothShape node.</p>
				<p>You can create a rope using nCloth. Transform constraint one or two end of rope. Use t-shirt preset, and change stretch resistance to 1000.</p>
			</section>
		</section>
		
		<section>
			<h1>Rigging</h1>
			<section class="box">
				<h2>Cheat Sheet</h2>
				<ul>
					<li>All joints should have y facing outward and x pointing in the direction of the next bone</li>
					<li>Use the skeleton > orient joint tool > to fix local axes rotation</li>
					<li>Not all bones need to connect to the root bone</li>
					<li>Not all bones need to conect</li>
					<li>One nurb ctrl for each IK > point constraint ctrl to ik</li>
					<li>consider a spline technique for best rotation control.</li>
					<li>rotate can also use a orient constraint, from ctrl to bone</li>
					<li>One main nurbs circle controller that will move the entire character. 
					All controllers are child of this node.</li>
					<li>never not parent bones to the main ctrl, use sub ctrls instead</li>
					<li>Always create nurbs circles for controls</li>
					<li>Freeze transform every ctrl before constraining, should have all values zeroed out</li>
				</ul>
			</section>
			<section class="box">
				<h2>Animation</h2>
				<ul>
					<li>Do not key the main controller at all</li>
					<li>Only use main controller to set the starting position and set maybe only one key there<li>
					<li>make two key points on the sub ctrl (ex: hip_ctrl) at start to finish location, best way to setup starting animation</li>
					<li>animate one ctrl at a time and try to use post-cycle if can, while incrementing timeline every x frames</li>
				</ul>
			</section>
			<section class="box">
				<h2>Blendshapes</h2>
				<ul>
					<li>blendshapes are good, but a jointbase system would be better for games and star wars production like, as new characters,
					can take on the same skeletal hiearcy or easier to transfer the same rig to another character. Joint base system is ultimately the best.</li>
					<li>Use blendshapes for facial or detail surface animation</li>
					<li>Select all blendshapes and then select target face and apply blend shapes<li>
					<li>You can use skeleton joints and paint weights to help with jaw blendshapes. If you do this way, make sure to manually shft
					 select the only joints you want, then the face, then tweak the smooth bind option.
					 the default smooth bind to selected joints. skinning fit is class linear (workds with game engines). 
					 leave normalize weights into interactive (keeps mesh from exploding. Maintain max influence is off (allow to paint zero value).
					 apply and test skinning. Key two or more sample key frames by rotating the joint needed. Flood the base joint 1 value the entire
					  surface. then move from there to the next joints to apply lower values. then add morphed blendshape to the target shape.
					 </li>
					<li>you can insert inbetween blendshapes for finer details</li>
				</ul>
			</section>
		</section>
		
	</section>
	
	
</div>
</body>
</html>