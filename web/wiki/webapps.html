<html>
<head>
	<title></title>
	<script data-main="js/mainWiki" src="js/lib/require.js"></script>
	<script>
		//if you call it explicitly like this, you have to call the common configs again so your file path will stay relative
		require(['./commonWiki'], function (common) {
			require(["jquery", "app/wikiUtils"], function($, utils){
				$(function() {
					utils.setMainWebTitle("Webapps");
				});
			});
		});
	</script>
</head>


<body>

<div id="contents">

	<section>
		<h1>Web Apps</h1>
		
		<section>
		<p>Web apps are applications like Roofing/Gutter, Siding, and the lessly touched KItchen Virtual Design-It. They are made up of Java, JSP, HTML, and CSS.
		In addition, they are hosted on a web server like JBoss or TomCat. Recently as of 2015 OCT, we no longer run JBoss servers and have moved to TomCat servers.
		</p>
		</section>
		
		<section>
			<h1>Struts and Tiles design structure</h1>
			
			<section>
			<p>Currently, <a class="link" href="siding.html">Siding</a> and <a class="link" href="roofing.html">Roofing</a> uses the strut and tiles design pattern. Highly reocommend to understand this design pattern to make navigating the app easier.</p>
			
			<img src="images/webapps2.png" class="fit popup" />
			
			<figCaption>Overall Structure Relationshipo</figCaption>
			<img src="images/webapps1.png" class="fit10 popup" />
			</section>
			
		</section>
		
		<section>
			<h1>How to debug Java classes</h1>
			<section>
				<p>
					You can debug a java classes just like Deck and Landscaping. There is just a slight difference with web apps, intial setups are:
				</p>
				<p>
					Note that in order to debug initialized classes in roofing or siding, you have to quickly start the debug right after you start the server.
					or the classes will have already been init thus, you'll never hit those initialized classes.
				</p>
				<ul>
					<h2>TCSERVER</h2>
					<li>visit <a href="tcserver.html#debug">tcserver debug</a></li>
					<h2>JBOSS</h2>
					<li>Start Jboss (server) located under jboss/bin/run.bat</li>
					<li>double clikcing the bat will Run the server, deploy your .war files into jboss deploy director so you can run the app locally in the browser</li>
					<li>Find and Put a break point in the class you want to test in eclipse</li>
					<li>try classes like: SidingMaterialList, EstimateSummaryItem, estimate classes</li>
					<li>Assuming you have the correct setup ready > Debug Configurations > Remote Java Application > Debug </li>
					<li>Now as you step through you app in the browser, the break point should trigger</li>
				</ul>
			</section>
		</section>
		
		<section>
			<h1>How to debug jSP</h1>
			<section class="box">
				<h2>Tip 1</h2>
				<p>Basically you can't debug how you do with java files using break points nor can you run JSP in eclipse. 
				You have to run the app on the browser, and modify the JSP to print out values that you need to the browser console. 
				</p> 
			</section>
			<section class="box">
				<h2>Tip 2</h2>
				<p>Once you have deployed your war files to the jboss server, modify the local jsp files in there. 
			Start and stop the server to see your jsp changes. 
			Once you are satisfy and confirmed that the jsp changes are working correctly, 
			you can then transfer those local jsp changes on the jboss/tcserver side to your development side.
				</p> 
			</section>
			
		</section>
		
		<section>
			<h1>Where to breakpoint</h1>
			<section>
				<ul>
					<li>You have to know where in the web app screen when a java function will trigger to kind of know where to set break points. One simple test example for Roofing would be the MaterialListDisplayController.java class. Put a break point by execute() and then in the browser webapp go to the summary and the break point should trigger.</li>
					<li>To know if the web app is being debug, go into the debug perspective and you should see Roofing Estimator tab, it indicates the app is being debug</li>
					<li>Look at tiles-def.xml it shows you want screen loads what jsp pages and what controllers are used for what page</li>
				</ul>
			</section>
		</section>
		
		<section>
			<h1>How to call js method from java web app</h1>
			<section>
				<p>
				Use a jsp file to call the js method. For example, a button image is called within a button.jsp or screen.jsp file. 
				The jsp file can load, create, and call js files.
				Hence, inside the JSP we can call the js methods, or call it through a VM wrapper.
				look at the utils.js and exit.jsp for examples.
				</p>
			</section>
		</section>
		
		
		
	</section>
	

</div>
</body>
</html>